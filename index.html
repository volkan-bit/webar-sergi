<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <title>WebAR Sergi</title>

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>

  <!-- AR.js markerless -->
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>

  <style>
    body { margin: 0; overflow: hidden; }
    #info {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.7);
      color: white;
      padding: 10px 16px;
      border-radius: 8px;
      font-family: sans-serif;
      z-index: 999;
    }
  </style>
</head>

<body>

<div id="info">Duvara dokunun, görsel yerleştirilecek</div>

<a-scene
  embedded
  arjs="sourceType: webcam; debugUIEnabled: false;"
  renderer="logarithmicDepthBuffer: true;"
  vr-mode-ui="enabled: false">

  <a-camera position="0 1.6 0"></a-camera>

  <!-- SABİTLENECEK RESİM -->
  <a-plane
    id="poster"
    src="resim1.jpg"
    width="1"
    height="1.4"
    visible="false">
  </a-plane>

</a-scene>

<script>
  const scene = document.querySelector('a-scene');
  const poster = document.querySelector('#poster');
  const info = document.querySelector('#info');

  scene.addEventListener('click', function (evt) {
    if (poster.getAttribute('visible')) return;

    const camera = document.querySelector('a-camera');
    const position = camera.object3D.position.clone();

    poster.setAttribute('position', {
      x: position.x,
      y: position.y - 0.3,
      z: position.z - 2
    });

    poster.setAttribute('rotation', '0 0 0');
    poster.setAttribute('visible', 'true');
    info.style.display = 'none';
  });
</script>

</body>
</html>
