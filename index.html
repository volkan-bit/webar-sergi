<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>WebAR Sergi</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body style="margin:0; overflow:hidden;">

<button id="startAR"
  style="
    position:absolute;
    z-index:10;
    top:50%;
    left:50%;
    transform:translate(-50%, -50%);
    padding:15px 25px;
    font-size:18px;
  ">
  AR'yi Ba≈ülat
</button>

<script type="module">
import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.module.js";
import { MindARThree } from "https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-three.prod.js";

const startButton = document.getElementById("startAR");

startButton.addEventListener("click", async () => {

  startButton.style.display = "none";

  const mindarThree = new MindARThree({
    container: document.body,
    imageTargetSrc: "./targets.mind"
  });

  const { renderer, scene, camera } = mindarThree;

  const anchor = mindarThree.addAnchor(0);

  const geometry = new THREE.PlaneGeometry(1, 1);
  const material = new THREE.MeshBasicMaterial({
    color: 0xffffff
  });

  const plane = new THREE.Mesh(geometry, material);
  anchor.group.add(plane);

  await mindarThree.start();

  renderer.setAnimationLoop(() => {
    renderer.render(scene, camera);
  });

});
</script>

</body>
</html>
